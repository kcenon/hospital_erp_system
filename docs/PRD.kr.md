# 제품 요구사항 명세서 (PRD)
# 입원환자 관리 ERP 시스템

---

## 문서 정보

| 항목 | 내용 |
|------|------|
| 문서 버전 | 0.1.0.0 |
| 작성일 | 2025-12-29 |
| 상태 | 초안 |
| 관리자 | kcenon@naver.com |
| 제품명 | 입원환자 관리 ERP 시스템 (Inpatient Management ERP System) |

---

## 목차

1. [제품 개요](#1-제품-개요)
2. [문제 정의](#2-문제-정의)
3. [제품 목표](#3-제품-목표)
4. [사용자 정의](#4-사용자-정의)
5. [기능 요구사항](#5-기능-요구사항)
6. [비기능 요구사항](#6-비기능-요구사항)
7. [사용자 스토리](#7-사용자-스토리)
8. [화면 개요](#8-화면-개요)
9. [성공 지표](#9-성공-지표)
10. [일정 및 마일스톤](#10-일정-및-마일스톤)
11. [제약 사항 및 가정](#11-제약-사항-및-가정)
12. [위험 요소](#12-위험-요소)
13. [부록](#13-부록)

---

## 1. 제품 개요

### 1.1 제품 비전

> **"입원환자 관리의 디지털 전환을 통해 의료진의 업무 효율성을 높이고, 환자 안전을 강화하는 통합 ERP 시스템"**

### 1.2 배경

현재 병원의 입원환자 관리는 구글 시트를 활용하여 수작업으로 진행되고 있습니다. 이로 인해 다음과 같은 문제가 발생하고 있습니다:

- **데이터 보안 취약**: 환자 개인정보가 클라우드 스프레드시트에 노출
- **업무 비효율**: 동일 정보의 중복 입력, 실시간 정보 공유 불가
- **시스템 분절**: 기존 진료 프로그램과 데이터 연동 부재
- **규정 준수 어려움**: 의료법 및 개인정보보호법 요구사항 충족 곤란

### 1.3 솔루션 요약

입원환자 관리 ERP 시스템은 다음을 제공합니다:

```
┌─────────────────────────────────────────────────────────────────┐
│                        핵심 제공 가치                             │
├─────────────────────────────────────────────────────────────────┤
│  ✓ 기존 진료 프로그램과 실시간 데이터 연동                          │
│  ✓ 병실 현황 및 환자 상태 실시간 모니터링                           │
│  ✓ 회진/라운딩 보고의 모바일 지원                                  │
│  ✓ 의료법 및 개인정보보호법 준수                                   │
│  ✓ 직관적 UI/UX로 빠른 정보 입력 및 조회                           │
└─────────────────────────────────────────────────────────────────┘
```

### 1.4 플랫폼 구성

| 플랫폼 | 용도 | 주요 사용자 |
|--------|------|------------|
| **PC Web** | 관리/원무 업무, 상세 조회 | 원무과, 시스템 관리자 |
| **Tablet Web** | 회진/라운딩, 모바일 입력 | 의사, 수간호사 |
| **Mobile Web (PWA)** | 간편 조회/입력 | 간호사, 의료진 |

---

## 2. 문제 정의

### 2.1 현재 상황 (As-Is)

```
┌─────────────────────────────────────────────────────────────────┐
│                      현재 업무 프로세스                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   구글 시트              기존 진료 프로그램           종이 기록    │
│   ┌─────────┐           ┌─────────┐            ┌─────────┐     │
│   │ 입원환자 │           │  환자   │            │ 바이탈  │     │
│   │  목록   │    ❌     │  정보   │     ❌     │  기록   │     │
│   │         │ 연동없음   │         │  연동없음   │         │     │
│   └─────────┘           └─────────┘            └─────────┘     │
│        │                      │                      │          │
│        └──────────────────────┼──────────────────────┘          │
│                               ▼                                  │
│                    ┌─────────────────────┐                      │
│                    │   수작업 통합 관리   │                      │
│                    │   (비효율, 오류)     │                      │
│                    └─────────────────────┘                      │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 2.2 핵심 문제점

| 문제 영역 | 상세 내용 | 영향도 |
|----------|----------|--------|
| **데이터 보안** | 구글 시트에 민감 정보 노출, 접근 통제 부재 | 높음 |
| **업무 효율** | 동일 정보 중복 입력, 실시간 현황 파악 불가 | 높음 |
| **시스템 연동** | 기존 진료 프로그램과 데이터 불일치 | 중간 |
| **모바일 지원** | 회진 시 PC 접근 필요, 즉시 입력 불가 | 중간 |
| **법규 준수** | 의료법/개인정보보호법 요구사항 미충족 | 높음 |

### 2.3 목표 상황 (To-Be)

```
┌─────────────────────────────────────────────────────────────────┐
│                      목표 업무 프로세스                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   ┌─────────────────────────────────────────────────────────┐  │
│   │              입원환자 관리 ERP 시스템                     │  │
│   │                                                          │  │
│   │   ┌─────────┐    ┌─────────┐    ┌─────────┐            │  │
│   │   │ 환자관리 │◄──►│ 병실관리 │◄──►│ 보고서  │            │  │
│   │   └─────────┘    └─────────┘    └─────────┘            │  │
│   │        ▲              ▲              ▲                  │  │
│   │        │              │              │                  │  │
│   │        └──────────────┼──────────────┘                  │  │
│   │                       ▼                                  │  │
│   │              ┌─────────────────┐                        │  │
│   │              │   통합 DB       │                        │  │
│   │              │   (PostgreSQL)  │                        │  │
│   │              └────────┬────────┘                        │  │
│   │                       │                                  │  │
│   └───────────────────────┼─────────────────────────────────┘  │
│                           │                                     │
│                    ┌──────┴──────┐                              │
│                    │  연동 계층   │                              │
│                    └──────┬──────┘                              │
│                           │                                     │
│                    ┌──────┴──────┐                              │
│                    │ 기존 진료   │                              │
│                    │ 프로그램    │                              │
│                    └─────────────┘                              │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3. 제품 목표

### 3.1 비즈니스 목표

| # | 목표 | 측정 지표 | 목표값 |
|---|------|----------|--------|
| G1 | 업무 효율성 향상 | 환자 정보 입력 시간 | 50% 감소 |
| G2 | 데이터 정확성 개선 | 입력 오류율 | 80% 감소 |
| G3 | 법규 준수 달성 | 보안 감사 통과 | 100% |
| G4 | 사용자 만족도 | NPS (순추천지수) | 50 이상 |

### 3.2 제품 목표

| # | 목표 | 설명 |
|---|------|------|
| P1 | **시스템 통합** | 기존 진료 프로그램과 실시간 데이터 연동 |
| P2 | **실시간 현황 파악** | 병실 현황 및 환자 상태 즉시 확인 |
| P3 | **모바일 업무 지원** | 태블릿/모바일에서 회진 기록 및 바이탈 입력 |
| P4 | **보안 규정 준수** | 의료법 및 개인정보보호법 요구사항 충족 |

### 3.3 성공 기준

```
┌─────────────────────────────────────────────────────────────────┐
│                        릴리즈 성공 기준                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ✅ 필수 (Must Have)                                            │
│  ────────────────────                                           │
│  • 환자 등록/조회/수정 기능 동작                                  │
│  • 병실 현황판 실시간 업데이트                                    │
│  • 입퇴원 프로세스 전체 동작                                      │
│  • 기존 진료 프로그램 데이터 조회 연동                             │
│  • 사용자 인증 및 권한 관리                                       │
│  • 감사 로그 기록                                                │
│                                                                  │
│  📋 선택 (Should Have)                                          │
│  ────────────────────                                           │
│  • 바이탈 사인 모바일 입력                                        │
│  • 라운딩 기록 태블릿 지원                                        │
│  • 간호 일지 작성                                                │
│  • 알림 기능 (이상 수치 등)                                       │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 4. 사용자 정의

### 4.1 사용자 페르소나

#### 페르소나 1: 원무과 담당자 (이원무)

| 항목 | 내용 |
|------|------|
| **역할** | 원무과 주임 |
| **주요 업무** | 입퇴원 수속, 병실 배정, 환자 등록 |
| **기술 수준** | 중급 (PC 웹 익숙) |
| **Pain Point** | 환자 정보 여러 곳에서 확인, 병실 현황 실시간 파악 어려움 |
| **기대 가치** | 한 화면에서 모든 정보 조회, 빠른 입퇴원 처리 |

#### 페르소나 2: 담당 간호사 (김간호)

| 항목 | 내용 |
|------|------|
| **역할** | 병동 간호사 |
| **주요 업무** | 바이탈 측정, 간호 기록, 투약 관리 |
| **기술 수준** | 초중급 (모바일 선호) |
| **Pain Point** | PC 앞에서만 입력 가능, 이동 중 메모 후 재입력 |
| **기대 가치** | 환자 곁에서 즉시 입력, 이전 기록 빠른 조회 |

#### 페르소나 3: 담당 의사 (박의사)

| 항목 | 내용 |
|------|------|
| **역할** | 내과 전문의 |
| **주요 업무** | 회진, 처방, 치료 계획 수립 |
| **기술 수준** | 중급 (태블릿 사용) |
| **Pain Point** | 회진 시 환자 정보 파악 시간 소요, 기록 후입력 |
| **기대 가치** | 환자 정보 한눈에 파악, 회진 중 즉시 기록 |

#### 페르소나 4: 수간호사 (최수간)

| 항목 | 내용 |
|------|------|
| **역할** | 병동 수간호사 |
| **주요 업무** | 병동 관리, 간호 일지 검토, 라운딩 |
| **기술 수준** | 중급 |
| **Pain Point** | 전체 현황 파악 어려움, 문제 환자 즉시 인지 어려움 |
| **기대 가치** | 대시보드로 전체 현황 파악, 주의 환자 알림 |

### 4.2 역할별 권한

| 기능 | 시스템 관리자 | 의사 | 수간호사 | 간호사 | 원무과 |
|------|:----------:|:----:|:------:|:-----:|:-----:|
| **환자 정보** |
| 조회 | ✅ | ✅ | ✅ | ✅ (담당) | ✅ |
| 등록 | ✅ | ❌ | ❌ | ❌ | ✅ |
| 수정 | ✅ | ✅ (본인 환자) | ✅ | ❌ | ✅ |
| **병실 관리** |
| 조회 | ✅ | ✅ | ✅ | ✅ | ✅ |
| 배정/전실 | ✅ | ❌ | ✅ | ❌ | ✅ |
| **보고서/일지** |
| 조회 | ✅ | ✅ | ✅ | ✅ (담당) | ❌ |
| 작성 | ✅ | ✅ | ✅ | ✅ | ❌ |
| **관리 기능** |
| 사용자 관리 | ✅ | ❌ | ❌ | ❌ | ❌ |
| 감사 로그 | ✅ | ❌ | ❌ | ❌ | ❌ |

---

## 5. 기능 요구사항

### 5.1 기능 범위 개요

```
입원환자 관리 ERP
├── 1. 시스템 연동 (Interface)
│   ├── 기존 진료 프로그램 연동 (EMR/OCS)
│   ├── 검사정보시스템 연동 (LIS)
│   └── 환자 기초 정보 동기화
│
├── 2. 병실 및 환자 관리
│   ├── 병실 현황판
│   ├── 입원 수속
│   ├── 전실 처리
│   └── 퇴원 처리
│
├── 3. 보고서 및 일지
│   ├── 바이탈 사인 관리
│   ├── I/O (섭취/배설량)
│   ├── 투약 기록
│   ├── 간호 일지
│   └── 라운딩 기록
│
└── 4. 관리자 기능
    ├── 사용자 계정 관리
    ├── 역할/권한 관리
    └── 감사 로그
```

### 5.2 핵심 기능 상세

#### FR-01: 환자 관리

| ID | 기능 | 우선순위 | 설명 |
|----|------|:--------:|------|
| FR-01-01 | 환자 목록 조회 | **필수** | 검색, 필터, 정렬 지원 |
| FR-01-02 | 환자 상세 조회 | **필수** | 기본정보, 입원정보, 이력 |
| FR-01-03 | 환자 등록 | **필수** | 신규 환자 정보 입력 |
| FR-01-04 | 환자 정보 수정 | **필수** | 연락처, 보호자 정보 등 수정 |
| FR-01-05 | 기존 시스템 환자 조회 | **필수** | 진료 프로그램 환자 검색 |

#### FR-02: 병실 관리

| ID | 기능 | 우선순위 | 설명 |
|----|------|:--------:|------|
| FR-02-01 | 병실 현황판 | **필수** | 층별/호실별 실시간 현황 |
| FR-02-02 | 빈 병상 조회 | **필수** | 사용 가능 병상 검색 |
| FR-02-03 | 병상 배정 | **필수** | 입원 시 병상 지정 |
| FR-02-04 | 현황 실시간 업데이트 | **필수** | WebSocket 기반 자동 갱신 |

#### FR-03: 입퇴원 관리

| ID | 기능 | 우선순위 | 설명 |
|----|------|:--------:|------|
| FR-03-01 | 입원 등록 | **필수** | 입원 정보 입력, 병상 배정 |
| FR-03-02 | 전실 처리 | **필수** | 병실 이동 기록 |
| FR-03-03 | 퇴원 처리 | **필수** | 퇴원 정보 입력, 병상 해제 |
| FR-03-04 | 입원 이력 조회 | **필수** | 과거 입원 기록 조회 |

#### FR-04: 바이탈 사인

| ID | 기능 | 우선순위 | 설명 |
|----|------|:--------:|------|
| FR-04-01 | 바이탈 입력 | 높음 | 체온, 혈압, 맥박, 호흡, SpO2 |
| FR-04-02 | 바이탈 조회 | 높음 | 시간순 이력, 최신 값 |
| FR-04-03 | 바이탈 추이 그래프 | 높음 | 기간별 추이 시각화 |
| FR-04-04 | 이상치 알림 | 중간 | 정상 범위 초과 시 알림 |

#### FR-05: 보고서/일지

| ID | 기능 | 우선순위 | 설명 |
|----|------|:--------:|------|
| FR-05-01 | 일일 보고서 작성 | 높음 | 환자 상태 요약 기록 |
| FR-05-02 | I/O 기록 | 높음 | 섭취량/배설량 입력 |
| FR-05-03 | 투약 기록 | 중간 | 투약 스케줄 및 실시 기록 |
| FR-05-04 | 간호 일지 | 중간 | SOAP 형식 간호 기록 |

#### FR-06: 라운딩

| ID | 기능 | 우선순위 | 설명 |
|----|------|:--------:|------|
| FR-06-01 | 라운딩 세션 생성 | 높음 | 회진 시작/종료 관리 |
| FR-06-02 | 라운딩 기록 입력 | 높음 | 환자별 관찰 사항 기록 |
| FR-06-03 | 라운딩 이력 조회 | 높음 | 과거 라운딩 기록 조회 |

#### FR-07: 관리자 기능

| ID | 기능 | 우선순위 | 설명 |
|----|------|:--------:|------|
| FR-07-01 | 사용자 계정 관리 | **필수** | CRUD, 비밀번호 초기화 |
| FR-07-02 | 역할/권한 관리 | **필수** | RBAC 기반 권한 설정 |
| FR-07-03 | 감사 로그 조회 | **필수** | 접근/변경 이력 조회 |

#### FR-08: 시스템 연동

| ID | 기능 | 우선순위 | 설명 |
|----|------|:--------:|------|
| FR-08-01 | 기존 시스템 환자 조회 | **필수** | 진료 프로그램(EMR/OCS) DB 조회 |
| FR-08-02 | 환자 정보 동기화 | **필수** | 기본 정보 자동 연동 |
| FR-08-03 | 검사 결과 조회 (LIS) | **필수** | 검사정보시스템 연동, 검사 결과 조회 |
| FR-08-04 | 처방 정보 조회 | 중간 | 현재 처방, 투약 이력 조회 |
| FR-08-05 | PACS 링크 연동 | 낮음 | 영상 결과 조회 시 PACS 뷰어 연결 (Phase 3+) |

### 5.3 기능 우선순위 매트릭스

```
                    비즈니스 가치
                 높음         중간         낮음
          ┌─────────────┬─────────────┬─────────────┐
    높    │ 환자 관리   │ 바이탈 입력  │             │
    음    │ 병실 현황판  │ I/O 기록    │             │
          │ 입퇴원 관리  │ 라운딩      │             │
구        │ 시스템 연동  │             │             │
현 ├─────────────┼─────────────┼─────────────┤
가    중    │ 일일 보고서  │ 간호 일지   │             │
능    간    │ 사용자 관리  │ 투약 기록   │             │
성        │ 감사 로그   │             │             │
          │             │             │             │
   ├─────────────┼─────────────┼─────────────┤
    낮    │             │ 알림 기능   │ 통계 분석   │
    음    │             │             │             │
          └─────────────┴─────────────┴─────────────┘

MVP 범위: 비즈니스 가치 높음 + 구현 가능성 높음
```

---

## 6. 비기능 요구사항

### 6.1 성능 요구사항

| ID | 요구사항 | 목표값 | 측정 방법 |
|----|----------|--------|----------|
| NFR-P01 | 페이지 로딩 시간 | 3초 이내 | Lighthouse |
| NFR-P02 | API 응답 시간 | 500ms 이내 | APM 모니터링 |
| NFR-P03 | 동시 접속자 | 100명 이상 | 부하 테스트 |
| NFR-P04 | 시스템 가용성 | 99.5% 이상 | 업타임 모니터링 |

### 6.2 보안 요구사항

| ID | 요구사항 | 상세 내용 |
|----|----------|----------|
| NFR-S01 | 데이터 암호화 (저장) | AES-256-GCM (민감정보) |
| NFR-S02 | 데이터 암호화 (전송) | TLS 1.3 |
| NFR-S03 | 인증 | JWT + Refresh Token |
| NFR-S04 | 다중 인증 | MFA (TOTP) 지원 |
| NFR-S05 | 접근 통제 | RBAC (역할 기반) |
| NFR-S06 | 감사 로그 | 모든 데이터 접근/수정 기록 |
| NFR-S07 | 세션 관리 | 30분 유휴 타임아웃 |
| NFR-S08 | 비밀번호 정책 | 8자 이상, 복잡도 규칙 |

### 6.3 규정 준수

| 법규/규정 | 요구사항 | 구현 방안 |
|----------|----------|----------|
| **개인정보보호법** | 민감정보 암호화 | 주민번호, 의료정보 암호화 저장 |
| | 접근 기록 2년 보관 | 감사 로그 2년 보관 |
| **의료법** | 의무기록 5년 보관 | 데이터 보관 정책 |
| | 진료기록 열람 통제 | RBAC 권한 관리 |
| **전자문서법** | 전자서명, 무결성 | 변경 이력 추적 |

### 6.4 호환성

| ID | 요구사항 | 상세 내용 |
|----|----------|----------|
| NFR-C01 | 브라우저 호환 | Chrome, Edge, Safari (최신 2개 버전) |
| NFR-C02 | 반응형 지원 | PC (1024px+), 태블릿 (768px+), 모바일 (320px+) |
| NFR-C03 | PWA 지원 | 오프라인 기본 기능, 설치 가능 |

### 6.5 유지보수성

| ID | 요구사항 | 상세 내용 |
|----|----------|----------|
| NFR-M01 | 코드 품질 | ESLint, Prettier 적용 |
| NFR-M02 | 테스트 커버리지 | 80% 이상 |
| NFR-M03 | API 문서화 | OpenAPI 3.0 (Swagger) |
| NFR-M04 | 로깅 | 구조화된 로그, 추적 ID |

---

## 7. 사용자 스토리

### 7.1 Epic 1: 환자 관리

```
US-01: 환자 검색
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
As a 원무과 담당자
I want to 환자 이름이나 환자번호로 빠르게 검색할 수 있기를 원함
So that 입원 수속 시 환자 정보를 즉시 확인할 수 있음

인수 조건:
✓ 환자 이름 부분 일치 검색 가능
✓ 환자 번호 검색 가능
✓ 검색 결과 2초 이내 표시
✓ 결과 목록에서 바로 상세 정보 진입 가능
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

```
US-02: 환자 상세 정보 조회
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
As a 담당 의사
I want to 환자의 현재 상태와 이력을 한 화면에서 확인하고 싶음
So that 회진 시 빠르게 환자 상태를 파악할 수 있음

인수 조건:
✓ 기본 정보 (이름, 나이, 진단명) 상단 표시
✓ 현재 입원 정보 (병실, 입원일, 담당의) 표시
✓ 최근 바이탈 사인 표시
✓ 탭으로 상세 정보 전환 가능
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 7.2 Epic 2: 병실 관리

```
US-03: 병실 현황 조회
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
As a 수간호사
I want to 병동 전체 현황을 한눈에 파악하고 싶음
So that 병상 관리와 인력 배치를 효율적으로 할 수 있음

인수 조건:
✓ 층별 병실 배치도 형태로 표시
✓ 각 병상의 상태 (빈병상/입원/주의) 색상으로 구분
✓ 병상 클릭 시 환자 정보 간략 표시
✓ 실시간 업데이트 (입퇴원 즉시 반영)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

```
US-04: 빈 병상 검색
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
As a 원무과 담당자
I want to 사용 가능한 병상을 빠르게 찾고 싶음
So that 입원 환자에게 적절한 병상을 배정할 수 있음

인수 조건:
✓ 병실 유형 (1인실, 2인실 등) 필터링
✓ 층별 필터링
✓ 빈 병상 목록 또는 배치도로 표시
✓ 선택한 병상으로 바로 입원 등록 진행 가능
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 7.3 Epic 3: 입퇴원 관리

```
US-05: 입원 등록
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
As a 원무과 담당자
I want to 입원 수속을 빠르고 정확하게 처리하고 싶음
So that 환자가 빠르게 병실에 입실할 수 있음

인수 조건:
✓ 기존 진료 프로그램에서 환자 정보 자동 조회
✓ 빈 병상 선택 가능
✓ 담당의/담당 간호사 지정
✓ 입원 완료 시 병실 현황판 즉시 업데이트
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

```
US-06: 퇴원 처리
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
As a 원무과 담당자
I want to 퇴원 절차를 체계적으로 처리하고 싶음
So that 퇴원 후 병상이 즉시 사용 가능해짐

인수 조건:
✓ 퇴원 사유 및 퇴원 요약 입력
✓ 추후 관리 계획 기록
✓ 퇴원 완료 시 병상 상태 자동 변경
✓ 환자 입원 이력에 기록 추가
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 7.4 Epic 4: 바이탈 사인

```
US-07: 바이탈 입력 (모바일)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
As a 담당 간호사
I want to 환자 곁에서 바이탈을 즉시 입력하고 싶음
So that 메모 후 재입력하는 시간을 줄일 수 있음

인수 조건:
✓ 숫자 키패드로 빠른 입력
✓ 이전 측정값 참조 표시
✓ 정상 범위 벗어날 경우 경고 표시
✓ 저장 후 다음 환자로 빠르게 이동
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

```
US-08: 바이탈 추이 확인
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
As a 담당 의사
I want to 환자의 바이탈 변화 추이를 그래프로 확인하고 싶음
So that 환자 상태 변화를 쉽게 파악할 수 있음

인수 조건:
✓ 체온, 혈압, 맥박 등 항목별 그래프
✓ 기간 선택 가능 (최근 7일, 입원 전체 등)
✓ 이상치 포인트 강조 표시
✓ 그래프에서 특정 시점 클릭 시 상세 데이터 표시
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 7.5 Epic 5: 라운딩

```
US-09: 라운딩 기록 (태블릿)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
As a 담당 의사
I want to 회진 중 환자 정보 확인과 기록을 동시에 하고 싶음
So that 회진 후 별도 기록 시간을 줄일 수 있음

인수 조건:
✓ 라운딩 환자 목록 표시
✓ 환자별 최근 바이탈, 주요 정보 표시
✓ 관찰 소견, 지시 사항 입력 영역
✓ 다음 환자로 빠르게 이동
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 8. 화면 개요

### 8.1 화면 목록

| # | 화면명 | 경로 | 설명 | 대상 사용자 |
|---|--------|------|------|------------|
| 1 | 로그인 | /login | 사용자 인증 | 전체 |
| 2 | 대시보드 | / | 주요 현황 요약 | 전체 |
| 3 | 환자 목록 | /patients | 환자 검색/조회 | 전체 |
| 4 | 환자 상세 | /patients/:id | 환자 정보 상세 | 전체 |
| 5 | 병실 현황판 | /rooms | 층별 병실 현황 | 전체 |
| 6 | 입원 등록 | /admissions/new | 입원 수속 | 원무과 |
| 7 | 바이탈 입력 | /vitals/input | 바이탈 사인 입력 | 간호사 |
| 8 | 라운딩 | /rounds | 회진 기록 | 의사 |
| 9 | 관리자 | /admin | 시스템 관리 | 관리자 |

### 8.2 주요 화면 와이어프레임

#### 대시보드

```
┌─────────────────────────────────────────────────────────────────┐
│  대시보드                                        2025-12-29 (일) │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐        │
│  │ 입원환자  │  │ 오늘입원  │  │ 오늘퇴원  │  │  빈병상   │        │
│  │    45    │  │    3     │  │    2     │  │    8    │        │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘        │
│                                                                  │
│  ┌─────────────────────────┐  ┌────────────────────────┐        │
│  │     병실 현황 (미니맵)   │  │     오늘 라운딩         │        │
│  │  ● ● ○ ● ● ○ ● ●      │  │  오전 ● 진행중 12/15   │        │
│  │  ● ○ ● ● ○ ○ ● ●      │  │  오후 ○ 예정 14:00     │        │
│  └─────────────────────────┘  └────────────────────────┘        │
│                                                                  │
│  ┌───────────────────────────────────────────────────────┐      │
│  │                 주의 필요 환자 알림                     │      │
│  │  🔴 홍길동 (301-A) - 체온 38.5°C                       │      │
│  │  🟡 김환자 (305-B) - 바이탈 미입력 (4시간)             │      │
│  └───────────────────────────────────────────────────────┘      │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

#### 환자 상세

```
┌─────────────────────────────────────────────────────────────────┐
│  ← 환자 목록                                  홍길동 (P2025001) │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │  홍길동  34세 남 │ A+ │ 내과병동 301-A │ ● 안정            │ │
│  │  입원: 2025-12-25 (10일차) │ 담당의: 이의사                 │ │
│  └────────────────────────────────────────────────────────────┘ │
│                                                                  │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  기본정보 │ 바이탈 │ I/O │ 투약 │ 간호일지 │ 치료보고서   │   │
│  ├──────────────────────────────────────────────────────────┤   │
│  │                                                           │   │
│  │  최근 바이탈 (08:00)                 [+ 바이탈 입력]      │   │
│  │  ┌───────┬───────┬───────┬───────┬───────┐              │   │
│  │  │ 체온  │ 혈압   │ 맥박  │ 호흡  │ SpO2  │              │   │
│  │  │36.5°C│120/80 │ 72   │ 18   │ 98%  │              │   │
│  │  └───────┴───────┴───────┴───────┴───────┘              │   │
│  │                                                           │   │
│  │  바이탈 추이 (7일)                                        │   │
│  │  [==========그래프==========]                            │   │
│  │                                                           │   │
│  └──────────────────────────────────────────────────────────┘   │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 8.3 디자인 원칙

| 원칙 | 설명 |
|------|------|
| **명확성** | 정보의 명확한 전달, 직관적 레이아웃 |
| **효율성** | 최소 클릭으로 업무 완료 |
| **일관성** | 동일한 패턴과 컴포넌트 사용 |
| **접근성** | WCAG 2.1 AA 준수 |
| **반응성** | PC, 태블릿, 모바일 최적화 |

---

## 9. 성공 지표

### 9.1 핵심 성과 지표 (KPI)

| 지표 | 현재 | 목표 | 측정 방법 |
|------|------|------|----------|
| **환자 정보 입력 시간** | 5분/건 | 2.5분/건 | 사용자 행동 로그 |
| **입력 오류율** | 5% | 1% | 데이터 검증 |
| **병실 현황 파악 시간** | 15분 | 즉시 | 사용자 인터뷰 |
| **시스템 가용성** | - | 99.5% | 업타임 모니터링 |
| **사용자 만족도** | - | 80% 이상 | 설문 조사 |

### 9.2 단계별 목표

| 단계 | 목표 |
|------|------|
| **MVP (M2)** | 핵심 기능 동작, 기존 업무 대체 가능 |
| **Beta (M3)** | 전체 기능 동작, 실사용 가능 |
| **GA (M4)** | 안정적 운영, 목표 KPI 달성 |

---

## 10. 일정 및 마일스톤

### 10.1 전체 일정

```
┌─────────────────────────────────────────────────────────────────┐
│                        프로젝트 일정 (약 4-5개월)                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  Phase 1: 분석 & 설계 (4주)                                      │
│  ████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░                │
│  └─ 요구사항 분석, 설계, 프로토타입                               │
│                                                                  │
│  Phase 2: 개발 - Core (6주)                                      │
│  ░░░░░░░░████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░                │
│  └─ 환자관리, 병실관리, 입퇴원, 시스템 연동                        │
│                                                                  │
│  Phase 3: 개발 - Extended (4주)                                  │
│  ░░░░░░░░░░░░░░░░░░░░████████░░░░░░░░░░░░░░░░░░░                │
│  └─ 보고서/일지, 라운딩, 모바일 최적화                             │
│                                                                  │
│  Phase 4: 안정화 & 배포 (3주)                                    │
│  ░░░░░░░░░░░░░░░░░░░░░░░░░░░░██████░░░░░░░░░░░░░                │
│  └─ 테스트, 데이터 이관, 교육, 운영 전환                           │
│                                                                  │
│        W1-4        W5-10       W11-14      W15-17               │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 10.2 마일스톤

| 마일스톤 | 예정 시점 | 주요 내용 | 완료 기준 |
|----------|----------|----------|----------|
| **M1: 설계 완료** | W4 | 설계 문서 완성 | 설계 검토 승인 |
| **M2: Core 개발 완료** | W10 | 핵심 기능 완성 | 기능 테스트 통과 |
| **M3: 전체 개발 완료** | W14 | 모든 기능 완성 | UAT 시작 가능 |
| **M4: 서비스 오픈** | W17 | 실운영 시작 | 안정 운영 확인 |

### 10.3 단계별 산출물

| 단계 | 산출물 |
|------|--------|
| **Phase 1** | 요구사항 정의서, 시스템 설계서, 화면 설계서, DB 설계서, API 명세서, 프로토타입 |
| **Phase 2** | 인증 모듈, 환자 관리, 병실 현황판, 입퇴원 관리, 시스템 연동 |
| **Phase 3** | 바이탈 관리, I/O 관리, 간호 일지, 라운딩, 모바일 UI, 관리자 기능 |
| **Phase 4** | 테스트 결과서, 마이그레이션 완료, 사용자 매뉴얼, 운영자 매뉴얼, 완료 보고서 |

---

## 11. 제약 사항 및 가정

### 11.1 제약 사항

| # | 제약 사항 | 영향 | 대응 방안 |
|---|----------|------|----------|
| C1 | 기존 진료 프로그램 DB 구조 의존 | 연동 범위 결정 | 조기 DB 분석, 어댑터 패턴 |
| C2 | 클라우드 환경 (AWS/Naver Cloud) | 비용 발생 | 비용 최적화 설계 |
| C3 | 병원 내부 네트워크 정책 | 접근 제한 가능 | 보안 요구사항 사전 확인 |
| C4 | 의료법/개인정보보호법 | 보안 요구사항 증가 | 보안 설계 우선 |

### 11.2 가정 사항

| # | 가정 사항 | 검증 시점 | 미충족 시 영향 |
|---|----------|----------|--------------|
| A1 | 기존 진료 프로그램 DB 접근 권한 제공 | Phase 1 | 연동 범위 축소 |
| A2 | 구글 시트 데이터 정제 협조 | Phase 4 | 마이그레이션 지연 |
| A3 | 사용자 교육 시간 확보 | Phase 4 | 안정화 기간 연장 |
| A4 | 병원 내 WiFi 환경 양호 | Phase 1 | 모바일 기능 제한 |

### 11.3 의존성

```
┌─────────────────────────────────────────────────────────────────┐
│                        외부 의존성                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  기존 진료 프로그램                                               │
│  └─ DB 접근 권한 또는 API 제공 필요                               │
│  └─ 연동 범위: 환자 기본정보, 진료내역                            │
│                                                                  │
│  구글 시트 (레거시 데이터)                                        │
│  └─ 일회성 마이그레이션                                           │
│  └─ 데이터 정제 및 매핑 협조 필요                                 │
│                                                                  │
│  클라우드 인프라 (AWS/Naver Cloud)                               │
│  └─ 클라이언트 측 계정 및 비용 부담                               │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 12. 위험 요소

### 12.1 위험 분석

| 위험 | 발생 가능성 | 영향도 | 대응 방안 |
|------|:----------:|:-----:|----------|
| 기존 시스템 연동 지연 | 중간 | 높음 | 조기 DB 분석, Mock 서버 활용 |
| 요구사항 변경 | 높음 | 중간 | 변경 관리 프로세스, 버퍼 일정 |
| 핵심 인력 이탈 | 낮음 | 높음 | 문서화, 지식 공유 |
| 기술적 난제 | 중간 | 중간 | PoC 조기 수행, 전문가 컨설팅 |
| 데이터 마이그레이션 이슈 | 중간 | 높음 | 사전 데이터 분석, 검증 자동화 |
| 사용자 저항 | 중간 | 중간 | 조기 참여, 충분한 교육 |

### 12.2 위험 대응 매트릭스

```
                    발생 가능성
               낮음        중간        높음
          ┌──────────┬──────────┬──────────┐
    높    │ 🟡 모니터링│ 🔴 즉시대응│ 🔴 즉시대응│
    음    │ (인력이탈) │(기존연동) │          │
    │     │          │(마이그레이션)│          │
영  ├──────────┼──────────┼──────────┤
향  중    │ ✅ 수용   │ 🟡 모니터링│ 🟡 모니터링│
도  간    │          │ (기술난제) │(요구사항) │
    │     │          │ (사용자저항)│          │
    ├──────────┼──────────┼──────────┤
    낮    │ ✅ 수용   │ ✅ 수용   │ 🟡 모니터링│
    음    │          │          │          │
          └──────────┴──────────┴──────────┘
```

---

## 13. 부록

### 13.1 기술 스택 요약

| 계층 | 기술 | 선택 이유 |
|------|------|----------|
| **Frontend** | Next.js 14 + TypeScript | SSR 지원, 반응형, 타입 안정성 |
| **UI** | Tailwind CSS + shadcn/ui | 빠른 개발, 접근성 기본 지원 |
| **Backend** | NestJS + TypeScript | 모듈화, 의존성 주입, 엔터프라이즈 패턴 |
| **ORM** | Prisma | 타입 안전, 마이그레이션 관리 |
| **Database** | PostgreSQL 16 | ACID, JSON 지원, 의료 데이터 신뢰성 |
| **Cache** | Redis 7 | 세션 관리, 실시간 현황판 |
| **Cloud** | AWS (ECS Fargate, RDS) | 확장성, 관리형 서비스 |

### 13.2 기존 프로젝트 생태계 활용

본 프로젝트는 효율적인 연동을 위해 다음 기존 의료시스템 프로젝트를 활용합니다:

#### 13.2.1 통합 아키텍처

```
┌─────────────────────────────────────────────────────────────────────────┐
│                            외부 시스템                                    │
│    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐           │
│    │   LIS   │    │ EMR/OCS │    │ 모달리티 │    │  PACS   │           │
│    └────┬────┘    └────┬────┘    └────┬────┘    └────┬────┘           │
│         │HL7          │HL7          │DICOM         │DICOM            │
└─────────┼──────────────┼──────────────┼──────────────┼─────────────────┘
          │              │              │              │
          ▼              ▼              ▼              ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                      연동 계층 (기존 프로젝트)                             │
│  ┌────────────────────────────────────────────────────────────────────┐ │
│  │                      pacs_bridge (C++23)                           │ │
│  │  • HL7 v2.x 게이트웨이 (MLLP/TLS)  • FHIR R4 게이트웨이 (REST)     │ │
│  │  • HL7↔DICOM 매핑                  • 메시지 큐 (SQLite)             │ │
│  │  • 환자 인구통계 캐시               • MWL/MPPS 핸들러               │ │
│  └────────────────────────────────────────────────────────────────────┘ │
│  ┌────────────────────────────────────────────────────────────────────┐ │
│  │                      pacs_system (C++20)                           │ │
│  │  • DICOM 서비스 (C-STORE/FIND/MOVE/GET)  • DICOMweb REST API      │ │
│  │  • 모달리티 워크리스트 (MWL)              • MPPS                    │ │
│  │  • SQLite 인덱스 데이터베이스             • RBAC 보안              │ │
│  └────────────────────────────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────────────────────────┬┘
                                                                         │
                                              REST API                   │
                                                                         ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                      애플리케이션 계층 (본 프로젝트)                       │
│  ┌────────────────────────────────────────────────────────────────────┐ │
│  │                 hospital_erp_system (TypeScript)                   │ │
│  │  • Next.js 14 (프론트엔드)          • NestJS (백엔드)               │ │
│  │  • PostgreSQL 16 (데이터베이스)     • Redis 7 (캐시)                │ │
│  └────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────┘
```

#### 13.2.2 기존 프로젝트

| 프로젝트 | 설명 | 프로토콜 | 활용 방안 |
|---------|------|----------|----------|
| **pacs_system** | PACS 서버 구현 (C++20) | DICOM, DICOMweb REST | PACS 영상 뷰어 URL 링크, 영상 상태 조회 |
| **pacs_bridge** | HIS/RIS 통합 브릿지 (C++23) | HL7 v2.x, FHIR R4, DICOM | LIS/EMR 연동, 프로토콜 변환 |

#### 13.2.3 연동 이점

| 이점 | 설명 | 영향 |
|------|------|------|
| **프로토콜 재사용** | HL7 v2.x 파서/빌더 이미 구현 | 4-6주 개발 기간 단축 |
| **보안 인프라** | TLS, OAuth2, 감사 로깅 구현됨 | 보안 규정 준수 가속화 |
| **메시지 큐** | 안정적인 메시지 전달 시스템 | 연동 리스크 감소 |
| **FHIR 지원** | R4 게이트웨이 개발 진행 중 | 미래 지향적 아키텍처 |
| **모니터링** | Prometheus 메트릭, 분산 트레이싱 | 운영 준비 완료된 관측성 |

#### 13.2.4 기능별 연동 전략

| 기능 | 연동 방안 | 우선순위 |
|------|----------|:--------:|
| **LIS 연동** | pacs_bridge HL7 게이트웨이 → REST API → hospital_erp | **필수** |
| **EMR/OCS 연동** | pacs_bridge ADT 핸들러 → 환자 캐시 → hospital_erp | **필수** |
| **PACS 링크** | pacs_system DICOMweb API → URL 생성 → hospital_erp | 낮음 (Phase 3+) |
| **처방 조회** | pacs_bridge FHIR 클라이언트 → MedicationRequest → hospital_erp | 중간 |

### 13.3 관련 문서

| 문서 | 위치 | 설명 |
|------|------|------|
| 프로젝트 개요 | [reference/01-overview/project-overview.md](reference/01-overview/project-overview.md) | 프로젝트 배경, 범위 |
| 기술 스택 | [reference/01-overview/technology-stack.md](reference/01-overview/technology-stack.md) | 기술 선택 근거 |
| 일정 계획 | [reference/01-overview/schedule-plan.md](reference/01-overview/schedule-plan.md) | 상세 일정, WBS |
| 시스템 아키텍처 | [reference/02-design/system-architecture.md](reference/02-design/system-architecture.md) | 아키텍처 설계 |
| 데이터베이스 설계 | [reference/02-design/database-design.md](reference/02-design/database-design.md) | ERD, 테이블 정의 |
| API 명세서 | [reference/02-design/api-specification.md](reference/02-design/api-specification.md) | REST API 명세 |
| 화면 설계 | [reference/02-design/ui-design.md](reference/02-design/ui-design.md) | UI/UX 가이드 |
| 보안 요구사항 | [reference/03-security/security-requirements.md](reference/03-security/security-requirements.md) | 보안 정책 |
| 용어 사전 | [reference/04-appendix/glossary.md](reference/04-appendix/glossary.md) | 의료/기술 용어 |

### 13.4 용어 정의

| 용어 | 설명 |
|------|------|
| **EMR** | Electronic Medical Record, 전자의무기록 |
| **바이탈 사인** | 생체징후 (체온, 맥박, 호흡, 혈압) |
| **I/O** | Intake/Output, 섭취량/배설량 |
| **라운딩** | 병동 순회, 환자 상태 점검 |
| **전실** | 병실 이동 |
| **RBAC** | Role-Based Access Control, 역할 기반 접근 제어 |
| **PWA** | Progressive Web App, 웹 기반 앱 |

---

## 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0.0 | 2025-12-29 | - | 초안 작성 |

---

## 승인

| 역할 | 성명 | 서명 | 일자 |
|------|------|------|------|
| 작성자 | | | |
| PM | | | |
| 기술 책임자 | | | |
| 고객 담당자 | | | |
